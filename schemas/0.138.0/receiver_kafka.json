{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "properties": {
    "auth": {
      "description": "Authentication holds Kafka authentication details.",
      "properties": {
        "kerberos": {
          "description": "Kerberos holds Kerberos authentication configuration.",
          "properties": {
            "config_file": {
              "type": "string"
            },
            "disable_fast_negotiation": {
              "type": "boolean"
            },
            "keytab_file": {
              "type": "string"
            },
            "password": {
              "type": "string"
            },
            "realm": {
              "type": "string"
            },
            "service_name": {
              "type": "string"
            },
            "use_keytab": {
              "type": "boolean"
            },
            "username": {
              "type": "string"
            }
          },
          "type": "object"
        },
        "plain_text": {
          "deprecated": true,
          "description": "PlainText is an alias for SASL/PLAIN authentication. Deprecated [v0.123.0]: use SASL with Mechanism set to PLAIN instead.",
          "properties": {
            "password": {
              "type": "string"
            },
            "username": {
              "type": "string"
            }
          },
          "type": "object"
        },
        "sasl": {
          "description": "SASL holds SASL authentication configuration.",
          "properties": {
            "aws_msk": {
              "description": "AWSMSK holds configuration specific to AWS MSK.",
              "properties": {
                "region": {
                  "description": "Region is the AWS region the MSK cluster is based in",
                  "type": "string"
                }
              },
              "type": "object"
            },
            "mechanism": {
              "description": "SASL Mechanism to be used, possible values are: (PLAIN, AWS_MSK_IAM_OAUTHBEARER, SCRAM-SHA-256 or SCRAM-SHA-512).",
              "type": "string"
            },
            "password": {
              "description": "Password to be used on authentication",
              "type": "string"
            },
            "username": {
              "description": "Username to be used on authentication",
              "type": "string"
            },
            "version": {
              "description": "SASL Protocol Version to be used, possible values are: (0, 1). Defaults to 0.",
              "type": "integer"
            }
          },
          "type": "object"
        },
        "tls": {
          "deprecated": true,
          "description": "TLS holds TLS configuration for connecting to Kafka brokers. Deprecated [v0.124.0]: use ClientConfig.TLS instead. This will be used only if ClientConfig.TLS is not set.",
          "properties": {
            "ca_file": {
              "description": "Path to the CA cert. For a client this verifies the server certificate. For a server this verifies client certificates. If empty uses system root CA. (optional)",
              "type": "string"
            },
            "ca_pem": {
              "description": "In memory PEM encoded cert. (optional)",
              "type": "string"
            },
            "cert_file": {
              "description": "Path to the TLS cert to use for TLS required connections. (optional)",
              "type": "string"
            },
            "cert_pem": {
              "description": "In memory PEM encoded TLS cert to use for TLS required connections. (optional)",
              "type": "string"
            },
            "cipher_suites": {
              "description": "CipherSuites is a list of TLS cipher suites that the TLS transport can use. If left blank, a safe default list is used. See https://go.dev/src/crypto/tls/cipher_suites.go for a list of supported cipher suites.",
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "curve_preferences": {
              "description": "contains the elliptic curves that will be used in an ECDHE handshake, in preference order Defaults to empty list and \"crypto/tls\" defaults are used, internally.",
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "include_system_ca_certs_pool": {
              "description": "If true, load system CA certificates pool in addition to the certificates configured in this struct.",
              "type": "boolean"
            },
            "insecure": {
              "description": "In gRPC and HTTP when set to true, this is used to disable the client transport security. See https://godoc.org/google.golang.org/grpc#WithInsecure for gRPC. Please refer to https://godoc.org/crypto/tls#Config for more information. (optional, default false)",
              "type": "boolean"
            },
            "insecure_skip_verify": {
              "description": "InsecureSkipVerify will enable TLS but not verify the certificate.",
              "type": "boolean"
            },
            "key_file": {
              "description": "Path to the TLS key to use for TLS required connections. (optional)",
              "type": "string"
            },
            "key_pem": {
              "description": "In memory PEM encoded TLS key to use for TLS required connections. (optional)",
              "type": "string"
            },
            "max_version": {
              "description": "MaxVersion sets the maximum TLS version that is acceptable. If not set, refer to crypto/tls for defaults. (optional)",
              "type": "string"
            },
            "min_version": {
              "description": "MinVersion sets the minimum TLS version that is acceptable. If not set, TLS 1.2 will be used. (optional)",
              "type": "string"
            },
            "reload_interval": {
              "description": "Duration string (e.g., '1s', '5m', '1h')",
              "pattern": "^[0-9]+(ns|us|µs|ms|s|m|h)$",
              "type": "string"
            },
            "server_name_override": {
              "description": "ServerName requested by client for virtual hosting. This sets the ServerName in the TLSConfig. Please refer to https://godoc.org/crypto/tls#Config for more information. (optional)",
              "type": "string"
            },
            "tpm": {
              "description": "Trusted platform module configuration",
              "properties": {
                "auth": {
                  "type": "string"
                },
                "enabled": {
                  "type": "boolean"
                },
                "owner_auth": {
                  "type": "string"
                },
                "path": {
                  "description": "The path to the TPM device or Unix domain socket. For instance /dev/tpm0 or /dev/tpmrm0.",
                  "type": "string"
                }
              },
              "type": "object"
            }
          },
          "type": "object"
        }
      },
      "type": "object"
    },
    "autocommit": {
      "description": "AutoCommit controls the auto-commit functionality of the consumer.",
      "properties": {
        "enable": {
          "description": "Whether or not to auto-commit updated offsets back to the broker. (default enabled).",
          "type": "boolean"
        },
        "interval": {
          "description": "Duration string (e.g., '1s', '5m', '1h')",
          "pattern": "^[0-9]+(ns|us|µs|ms|s|m|h)$",
          "type": "string"
        }
      },
      "type": "object"
    },
    "brokers": {
      "description": "Brokers holds the list of Kafka bootstrap servers (default localhost:9092).",
      "items": {
        "type": "string"
      },
      "type": "array"
    },
    "client_id": {
      "description": "ClientID holds the client ID advertised to Kafka, which can be used for enforcing ACLs, throttling quotas, and more (default \"otel-collector\")",
      "type": "string"
    },
    "default_fetch_size": {
      "description": "The default bytes per fetch from Kafka (default \"1048576\")",
      "type": "integer"
    },
    "encoding": {
      "deprecated": true,
      "description": "Encoding holds the expected encoding of messages (default \"otlp_proto\") Encoding has no default. If explicitly specified, it will take precedence over the default values of Logs.Encoding, Traces.Encoding, and Metrics.Encoding. Deprecated [v0.124.0]: Use Logs.Encoding, Traces.Encoding, and Metrics.Encoding.",
      "type": "string"
    },
    "error_backoff": {
      "description": "ErrorBackoff controls backoff/retry behavior when the next consumer returns an error.",
      "properties": {
        "enabled": {
          "description": "Enabled indicates whether to not retry sending batches in case of export failure.",
          "type": "boolean"
        },
        "initial_interval": {
          "description": "Duration string (e.g., '1s', '5m', '1h')",
          "pattern": "^[0-9]+(ns|us|µs|ms|s|m|h)$",
          "type": "string"
        },
        "max_elapsed_time": {
          "description": "Duration string (e.g., '1s', '5m', '1h')",
          "pattern": "^[0-9]+(ns|us|µs|ms|s|m|h)$",
          "type": "string"
        },
        "max_interval": {
          "description": "Duration string (e.g., '1s', '5m', '1h')",
          "pattern": "^[0-9]+(ns|us|µs|ms|s|m|h)$",
          "type": "string"
        },
        "multiplier": {
          "description": "Multiplier is the value multiplied by the backoff interval bounds",
          "type": "number"
        },
        "randomization_factor": {
          "description": "RandomizationFactor is a random factor used to calculate next backoffs Randomized interval = RetryInterval * (1 ± RandomizationFactor)",
          "type": "number"
        }
      },
      "type": "object"
    },
    "group_id": {
      "description": "GroupID specifies the ID of the consumer group that will be consuming messages from (default \"otel-collector\").",
      "type": "string"
    },
    "group_instance_id": {
      "description": "GroupInstanceID specifies the ID of the consumer",
      "type": "string"
    },
    "group_rebalance_strategy": {
      "description": "RebalanceStrategy specifies the strategy to use for partition assignment. Possible values are \"range\", \"roundrobin\", and \"sticky\". Defaults to \"range\".",
      "type": "string"
    },
    "header_extraction": {
      "description": "HeaderExtraction controls extraction of headers from Kafka records.",
      "properties": {
        "extract_headers": {
          "type": "boolean"
        },
        "headers": {
          "items": {
            "type": "string"
          },
          "type": "array"
        }
      },
      "type": "object"
    },
    "heartbeat_interval": {
      "description": "Duration string (e.g., '1s', '5m', '1h')",
      "pattern": "^[0-9]+(ns|us|µs|ms|s|m|h)$",
      "type": "string"
    },
    "initial_offset": {
      "description": "InitialOffset specifies the initial offset to use if no offset was previously committed. Must be `latest` or `earliest` (default \"latest\").",
      "type": "string"
    },
    "logs": {
      "description": "Logs holds configuration about how logs should be consumed.",
      "properties": {
        "encoding": {
          "description": "Encoding holds the expected encoding of messages for the signal type Defaults to \"otlp_proto\".",
          "type": "string"
        },
        "topic": {
          "description": "Topic holds the name of the Kafka topic from which messages of the signal type should be consumed. The default depends on the signal type: - \"otlp_spans\" for traces - \"otlp_metrics\" for metrics - \"otlp_logs\" for logs - \"otlp_profiles\" for profiles",
          "type": "string"
        }
      },
      "type": "object"
    },
    "max_fetch_size": {
      "description": "The maximum bytes per fetch from Kafka (default \"0\", no limit)",
      "type": "integer"
    },
    "max_fetch_wait": {
      "description": "Duration string (e.g., '1s', '5m', '1h')",
      "pattern": "^[0-9]+(ns|us|µs|ms|s|m|h)$",
      "type": "string"
    },
    "max_partition_fetch_size": {
      "description": "MaxPartitionFetchSize defines the maximum number of bytes to fetch per partition (default \"1048576\")",
      "type": "integer"
    },
    "message_marking": {
      "description": "MessageMarking controls the way the messages are marked as consumed.",
      "properties": {
        "after": {
          "description": "If true, the messages are marked after the pipeline execution",
          "type": "boolean"
        },
        "on_error": {
          "description": "If false, only the successfully processed messages are marked. This only applies to non-permanent errors. It has no impact if After is set to false. Note: this can block the entire partition in case a message processing returns a non-permanent error.",
          "type": "boolean"
        },
        "on_permanent_error": {
          "description": "If false, only the successfully processed messages are marked. This only applies to permanent errors. It has no impact if After is set to false. Default value inherits from OnError for backward compatibility. Note: this can block the entire partition in case a message processing returns a permanent error.",
          "type": "boolean"
        }
      },
      "type": "object"
    },
    "metadata": {
      "description": "Metadata holds metadata-related configuration for producers and consumers.",
      "properties": {
        "full": {
          "description": "Whether to maintain a full set of metadata for all topics, or just the minimal set that has been necessary so far. The full set is simpler and usually more convenient, but can take up a substantial amount of memory if you have many topics and partitions. Defaults to true.",
          "type": "boolean"
        },
        "refresh_interval": {
          "description": "Duration string (e.g., '1s', '5m', '1h')",
          "pattern": "^[0-9]+(ns|us|µs|ms|s|m|h)$",
          "type": "string"
        },
        "retry": {
          "description": "Retry configuration for metadata. This configuration is useful to avoid race conditions when broker is starting at the same time as collector.",
          "properties": {
            "backoff": {
              "description": "Duration string (e.g., '1s', '5m', '1h')",
              "pattern": "^[0-9]+(ns|us|µs|ms|s|m|h)$",
              "type": "string"
            },
            "max": {
              "description": "The total number of times to retry a metadata request when the cluster is in the middle of a leader election or at startup (default 3).",
              "type": "integer"
            }
          },
          "type": "object"
        }
      },
      "type": "object"
    },
    "metrics": {
      "description": "Metrics holds configuration about how metrics should be consumed.",
      "properties": {
        "encoding": {
          "description": "Encoding holds the expected encoding of messages for the signal type Defaults to \"otlp_proto\".",
          "type": "string"
        },
        "topic": {
          "description": "Topic holds the name of the Kafka topic from which messages of the signal type should be consumed. The default depends on the signal type: - \"otlp_spans\" for traces - \"otlp_metrics\" for metrics - \"otlp_logs\" for logs - \"otlp_profiles\" for profiles",
          "type": "string"
        }
      },
      "type": "object"
    },
    "min_fetch_size": {
      "description": "The minimum bytes per fetch from Kafka (default \"1\")",
      "type": "integer"
    },
    "profiles": {
      "description": "Profiles holds configuration about how profiles should be consumed.",
      "properties": {
        "encoding": {
          "description": "Encoding holds the expected encoding of messages for the signal type Defaults to \"otlp_proto\".",
          "type": "string"
        },
        "topic": {
          "description": "Topic holds the name of the Kafka topic from which messages of the signal type should be consumed. The default depends on the signal type: - \"otlp_spans\" for traces - \"otlp_metrics\" for metrics - \"otlp_logs\" for logs - \"otlp_profiles\" for profiles",
          "type": "string"
        }
      },
      "type": "object"
    },
    "protocol_version": {
      "description": "ProtocolVersion defines the Kafka protocol version that the client will assume it is running against.",
      "type": "string"
    },
    "rack_id": {
      "description": "RackID provides the rack identifier for this client to enable rack-aware replica selection when supported by the brokers. This maps to Kafka's standard \"client.rack\" setting. By default, this is empty.",
      "type": "string"
    },
    "resolve_canonical_bootstrap_servers_only": {
      "description": "ResolveCanonicalBootstrapServersOnly configures the Kafka client to perform a DNS lookup on each of the provided brokers, and then perform a reverse lookup on the resulting IPs to obtain the canonical hostnames to use as the bootstrap servers. This can be required in SASL environments.",
      "type": "boolean"
    },
    "session_timeout": {
      "description": "Duration string (e.g., '1s', '5m', '1h')",
      "pattern": "^[0-9]+(ns|us|µs|ms|s|m|h)$",
      "type": "string"
    },
    "telemetry": {
      "description": "Telemetry controls optional telemetry configuration.",
      "properties": {
        "metrics": {
          "properties": {
            "kafka_receiver_records_delay": {
              "description": "KafkaReceiverRecordsDelay controls whether the metric kafka_receiver_records_delay that measures the time in seconds between producing and receiving a batch of records will be reported or not. This metric is not reported by default because it may slow down high-volume consuming.",
              "properties": {
                "enabled": {
                  "type": "boolean"
                }
              },
              "type": "object"
            }
          },
          "type": "object"
        }
      },
      "type": "object"
    },
    "tls": {
      "description": "TLS holds TLS-related configuration for connecting to Kafka brokers. By default the client will use an insecure connection unless SASL/AWS_MSK_IAM_OAUTHBEARER auth is configured.",
      "properties": {
        "ca_file": {
          "description": "Path to the CA cert. For a client this verifies the server certificate. For a server this verifies client certificates. If empty uses system root CA. (optional)",
          "type": "string"
        },
        "ca_pem": {
          "description": "In memory PEM encoded cert. (optional)",
          "type": "string"
        },
        "cert_file": {
          "description": "Path to the TLS cert to use for TLS required connections. (optional)",
          "type": "string"
        },
        "cert_pem": {
          "description": "In memory PEM encoded TLS cert to use for TLS required connections. (optional)",
          "type": "string"
        },
        "cipher_suites": {
          "description": "CipherSuites is a list of TLS cipher suites that the TLS transport can use. If left blank, a safe default list is used. See https://go.dev/src/crypto/tls/cipher_suites.go for a list of supported cipher suites.",
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "curve_preferences": {
          "description": "contains the elliptic curves that will be used in an ECDHE handshake, in preference order Defaults to empty list and \"crypto/tls\" defaults are used, internally.",
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "include_system_ca_certs_pool": {
          "description": "If true, load system CA certificates pool in addition to the certificates configured in this struct.",
          "type": "boolean"
        },
        "insecure": {
          "description": "In gRPC and HTTP when set to true, this is used to disable the client transport security. See https://godoc.org/google.golang.org/grpc#WithInsecure for gRPC. Please refer to https://godoc.org/crypto/tls#Config for more information. (optional, default false)",
          "type": "boolean"
        },
        "insecure_skip_verify": {
          "description": "InsecureSkipVerify will enable TLS but not verify the certificate.",
          "type": "boolean"
        },
        "key_file": {
          "description": "Path to the TLS key to use for TLS required connections. (optional)",
          "type": "string"
        },
        "key_pem": {
          "description": "In memory PEM encoded TLS key to use for TLS required connections. (optional)",
          "type": "string"
        },
        "max_version": {
          "description": "MaxVersion sets the maximum TLS version that is acceptable. If not set, refer to crypto/tls for defaults. (optional)",
          "type": "string"
        },
        "min_version": {
          "description": "MinVersion sets the minimum TLS version that is acceptable. If not set, TLS 1.2 will be used. (optional)",
          "type": "string"
        },
        "reload_interval": {
          "description": "Duration string (e.g., '1s', '5m', '1h')",
          "pattern": "^[0-9]+(ns|us|µs|ms|s|m|h)$",
          "type": "string"
        },
        "server_name_override": {
          "description": "ServerName requested by client for virtual hosting. This sets the ServerName in the TLSConfig. Please refer to https://godoc.org/crypto/tls#Config for more information. (optional)",
          "type": "string"
        },
        "tpm": {
          "description": "Trusted platform module configuration",
          "properties": {
            "auth": {
              "type": "string"
            },
            "enabled": {
              "type": "boolean"
            },
            "owner_auth": {
              "type": "string"
            },
            "path": {
              "description": "The path to the TPM device or Unix domain socket. For instance /dev/tpm0 or /dev/tpmrm0.",
              "type": "string"
            }
          },
          "type": "object"
        }
      },
      "type": "object"
    },
    "topic": {
      "deprecated": true,
      "description": "Topic holds the name of the Kafka topic from which to consume data. Topic has no default. If explicitly specified, it will take precedence over the default values of Logs.Topic, Traces.Topic, and Metrics.Topic. Deprecated [v0.124.0]: Use Logs.Topic, Traces.Topic, and Metrics.Topic.",
      "type": "string"
    },
    "traces": {
      "description": "Traces holds configuration about how traces should be consumed.",
      "properties": {
        "encoding": {
          "description": "Encoding holds the expected encoding of messages for the signal type Defaults to \"otlp_proto\".",
          "type": "string"
        },
        "topic": {
          "description": "Topic holds the name of the Kafka topic from which messages of the signal type should be consumed. The default depends on the signal type: - \"otlp_spans\" for traces - \"otlp_metrics\" for metrics - \"otlp_logs\" for logs - \"otlp_profiles\" for profiles",
          "type": "string"
        }
      },
      "type": "object"
    },
    "use_leader_epoch": {
      "description": "When enabled, the consumer uses the leader epoch returned by brokers (KIP-320) to detect log truncation. Setting this to false clears the leader epoch from fetch offsets, disabling KIP-320. Disabling can improve compatibility with brokers that don’t fully support leader epochs (e.g., Azure Event Hubs), at the cost of losing automatic log-truncation safety. NOTE: this is experimental and may be removed in a future release.",
      "type": "boolean"
    }
  },
  "type": "object"
}